{% extends "base.html" %}
{% load cache %}
{% load courses %}

{% block title %} {{ module.title }} {% endblock %}

{% block content %}
	<div class="content-side w-75 float-start mt-5">
		<h1>{{ module.title }}</h1>
		<hr>
		{% cache 600 module_contents module %}
			{% for content in module.contents.all %}
				{% if content.content_object.text %}
					{{ content.content_object.text|markdown_content|safe }}
				{% elif content.content_object.image %}
					<img id="content-img" class="img-thumbnail" src="{{ content.content_object.image.url }}">
				{% endif %}
			{% endfor %}
		{% endcache %}
	</div>

	<div class="side-bar float-end w-25 mt-5 p-3">
		<h2>Table of contents</h2>
		<ul class="list-group">
			{% for content in module.contents.all %}
				<li class="list-group-item"><a href="{% if content.content_object.image %}#content-img{% endif %}">{{ content.content_object }}</a></li>
			{% endfor %}
		</ul>
	</div>

{% endblock %}